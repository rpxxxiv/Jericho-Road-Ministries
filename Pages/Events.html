<!DOCTYPE html>
<html>
<head>    
    <title>Events</title>
    <script src="../Scripts/jquery-1.7.1.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="../Scripts/jquery.tmpl.min.js"></script>
    <script type="text/javascript" src="../Scripts/SiteShell.js"></script>
    <script src="../Scripts/Navigation.js" type="text/javascript"></script>
    <script type="text/javascript" src="../Scripts/content.js"></script> 
    <link type="text/css" href="../Styles/content.css" rel="stylesheet" />
    <link type="text/css" href="../Styles/Calendar/fullcalendar.css" rel="stylesheet" /> 
    <script type="text/javascript" src="../Scripts/FullCalendar/rrecur-parser.js"></script>
    <script type="text/javascript" src="../Scripts/FullCalendar/fullcalendar.js"></script>
    <script type="text/javascript" src="../Scripts/FullCalendar/gcal.js"></script>
    <link type="text/css" href="../Styles/Agenda.css" rel="stylesheet" />
    <script type="text/javascript" src="../Scripts/FullCalendar/Agenda.js"></script>
    <script type="text/javascript">
        $(window).ready(
            function () {
                $('#calendar').fullCalendar(
                {
                    events:
                    {
                        url: 'http://www.google.com/calendar/feeds/rpxxxiv@gmail.com/public/basic',//?alt=json&singleevents=false&futureevents=true&orderby=starttime',
//                        type: 'GET',
//                        dataType: 'json',
                        error: function () { alert('Error fetching events') }
                        //'http://www.google.com/calendar/feeds/jerichoroadtc%40gmail.com/public/basic',
                    },
                    eventClick: function (event) {
                        // opens events in a popup window
                        window.open(event.url, 'gcalevent', 'width=700,height=600');
                        //alert(event.description);
                        return false;
                    },

                    loading: function (bool) {
                        //                        if (bool) {
                        //                            $('.loading').show();
                        //                        } else {
                        //                            $('.loading').hide();
                        //                        }
                    }

                });
                LoadAgenda();
            });
    </script>
    <style type="text/css">
        .pageBody
        {
            max-width:850px;
        }
        .pageContent
        {  
        }
        .pcLeftSide
        {
            display:inline;
            float:left;
            width:70%;
        }
        .pcRightSide
        {
            display:inline;
            float:left;
            margin-right:-40%;
            width:30%;  
        }
        
    </style>
</head>
<body class="pageBody">
<script id="Event" type="text/x-jquery-tmpl">
    <div class="EventItem" data-url="${url}">
        <p><span class="EventTitle">${title}</span></p>
        <p><span class="EventDateTime">${EventDate}</span></p>
        <p><span class="EventDateTime">${Time}</span></p>
        <hr />
    </div>
</script>
<div class="pageContent">
    <div class="pcLeftSide">
        <div class='loading' style='display:none'>loading...</div>
        <div id="calendar"></div>
    </div>
    <div class="pcRightSide">
        <div class='loading' style='display:none'>loading...</div>
        <div id="agenda">
            <h1 style="text-align:center;">Events</h1>
            <div id="Events"></div>
        </div>    
    </div>
</div>
<div id="pageFooter">
    <iframe src="LegalFooter.html" seamless="seamless" frameborder="0" style="border-style:none;width:100%;"></iframe>
</div>
</body>
</html>